# SonarCloud Configuration for CTI Takedown Tool

# Project identification
sonar.projectKey=bob-reis_site-takedown
sonar.organization=bob-reis
sonar.projectName=CTI Takedown Tool
sonar.projectDescription=Automated CTI tool for orchestrating takedowns of malicious domains/URLs

# Project version (will be overridden by CI)
sonar.projectVersion=1.0.0

# Source code configuration
sonar.sources=.
sonar.tests=.
sonar.inclusions=**/*.go
sonar.exclusions=**/*_test.go,**/vendor/**,**/testdata/**,**/mock*/**,**/example.sh,**/test.sh,docs/**,README.md,CHANGELOG.md

# Test configuration
sonar.test.inclusions=**/*_test.go
sonar.test.exclusions=**/vendor/**

# Go specific settings
sonar.go.coverage.reportPaths=coverage.out

# Code analysis settings
sonar.sourceEncoding=UTF-8

# Quality gate settings
sonar.qualitygate.wait=true

# Coverage settings
sonar.coverage.exclusions=**/*_test.go,**/main.go,**/testdata/**,cmd/**,scripts/**,internal/**

# Duplication detection
sonar.cpd.go.minimumTokens=50

# Security settings
sonar.security.hotspots.excludeFromResolutionTypes=

# Analysis scope
sonar.scm.provider=git

# Branch analysis (for PR decoration)
# These will be set by GitHub Actions:
# sonar.pullrequest.key
# sonar.pullrequest.branch
# sonar.pullrequest.base

# Additional settings for Go
sonar.go.file.suffixes=.go

# Issue settings
sonar.issue.ignore.multicriteria=e1,e2,e3,e4

# Ignore some common Go patterns that trigger false positives
sonar.issue.ignore.multicriteria.e1.ruleKey=go:S1192
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.go

# Ignore string literals in test files
sonar.issue.ignore.multicriteria.e2.ruleKey=go:S103
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*_test.go

# Ignore complexity in main.go files (CLI parsing)
sonar.issue.ignore.multicriteria.e3.ruleKey=go:S1541
sonar.issue.ignore.multicriteria.e3.resourceKey=**/main.go

# Ignore TODO comments (we use them for tracking)
sonar.issue.ignore.multicriteria.e4.ruleKey=go:S1135
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*.go

# Language-specific analysis
sonar.lang.patterns.go=**/*.go
